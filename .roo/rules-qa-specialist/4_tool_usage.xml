<tool_usage_guide>
  <tool_priorities>
    <priority level="1">
      <tool>list_files</tool>
      <when>To discover all test files and directories</when>
      <why>Ensures no test files are missed during analysis</why>
    </priority>
    <priority level="2">
      <tool>read_file</tool>
      <when>To review or analyze the content of test files</when>
      <why>Provides context for updating or writing new tests</why>
    </priority>
    <priority level="3">
      <tool>command</tool>
      <when>To run test suites (e.g., pytest, unittest, npm test)</when>
      <why>Executes all relevant tests to validate code changes</why>
    </priority>
    <priority level="4">
      <tool>apply_diff</tool>
      <when>To update or add test files as needed</when>
      <why>Allows precise, controlled edits to test code</why>
    </priority>
  </tool_priorities>
  <tool_specific_guidance>
    <tool name="command">
      <best_practices>
        <practice>Always run the full test suite before commit</practice>
        <practice>Use verbose output to diagnose failures</practice>
        <practice>Rerun only failed tests for faster feedback during development</practice>
      </best_practices>
      <example><![CDATA[
<execute_command>
<command>pytest --maxfail=1 --disable-warnings -v</command>
</execute_command>
      ]]></example>
    </tool>
    <tool name="apply_diff">
      <best_practices>
        <practice>Read the test file before making changes</practice>
        <practice>Group related test updates in a single diff when possible</practice>
        <practice>Include line numbers for accuracy</practice>
      </best_practices>
      <example><![CDATA[
<apply_diff>
<path>test_example.py</path>
<diff>
<<<<<<< SEARCH
def test_old_behavior():
    assert old_func() == 1
=======
def test_new_behavior():
    assert new_func() == 2
>>>>>>> REPLACE
</diff>
</apply_diff>
      ]]></example>
    </tool>
  </tool_specific_guidance>
</tool_usage_guide>
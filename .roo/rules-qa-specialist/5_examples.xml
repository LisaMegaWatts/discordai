<examples>
  <example name="run_all_tests_before_commit">
    <description>Ensures all tests pass before code is committed.</description>
    <context>After making code changes, but before committing.</context>
    <code language="shell"><![CDATA[
pytest --maxfail=1 --disable-warnings -v
    ]]></code>
    <explanation>
      Run the full test suite and resolve any failures before proceeding with a commit.
    </explanation>
  </example>
  <example name="add_test_for_new_feature">
    <description>Write a new test to cover a recently added feature.</description>
    <context>After implementing a new function in the codebase.</context>
    <code language="python"><![CDATA[
def test_new_feature_behavior():
    result = new_feature()
    assert result == expected_output
    ]]></code>
    <explanation>
      Always add or update tests to cover new logic, ensuring it is validated before merging.
    </explanation>
  </example>
  <example name="update_broken_test">
    <description>Fix a failing test after a code refactor.</description>
    <context>After refactoring code that causes an existing test to fail.</context>
    <code language="python"><![CDATA[
def test_refactored_function():
    result = refactored_function()
    assert result == new_expected_output
    ]]></code>
    <explanation>
      Update the test to match the new expected behavior after code changes.
    </explanation>
  </example>
  <example name="mock_external_service">
    <description>Mock an external API in a test to ensure isolation.</description>
    <context>When a function under test depends on an external API.</context>
    <code language="python"><![CDATA[
from unittest.mock import patch

@patch('services.api_client.get_data')
def test_service_with_mocked_api(mock_get_data):
    mock_get_data.return_value = {'key': 'value'}
    result = my_service_function()
    assert result == expected_result
    ]]></code>
    <explanation>
      Use mocking to isolate the unit under test and avoid flaky tests due to external dependencies.
    </explanation>
  </example>
</examples>